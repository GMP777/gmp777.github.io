<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- è½½å…¥ footer æ ·å¼ -->
<link rel="stylesheet" href="footer.css" />
<!-- è½½å…¥ footer æ ·å¼ -->
<title>å……å€¼å¥–åŠ± & æŠ½å¥–æ–¹æ¡ˆï¼ˆæ”¯æŒå¤©æ•°é™åˆ¶ï¼‰</title>
<style>
  body { font-family: "å¾®è½¯é›…é»‘", sans-serif; padding: 20px; background: #fafafa; }
  h2 { margin: 30px 0 10px; color: #333; }
  label, select, input, button { margin: 5px 0; font-size: 14px; }
  select, input { padding: 5px; }
  button { padding: 6px 12px; cursor: pointer; }
  table { width: 100%; border-collapse: collapse; font-size: 14px; margin-top: 10px; }
  th, td { border:1px solid #ccc; padding: 8px; text-align: center; }
  th { background:#eee; }
  .footnote { font-size: 12px; color: #666; }
  .section { background: #fff; padding: 15px; margin-bottom: 30px; border-radius: 6px; box-shadow: 0 0 5px rgba(0,0,0,0.05); }
  @media (max-width:600px) {
    table, thead, tbody, th, td, tr { display: block; }
    td { text-align: left; position: relative; padding-left: 50%; }
    td:before { content: attr(data-label); position: absolute; left:8px; font-weight:bold; }
  }
</style>
</head>
<body>

<div class="section">
  <h2>ğŸ·ï¸ æŸ¥çœ‹å……å€¼å¥–åŠ±</h2>
  <label for="amountSelect">è¯·é€‰æ‹©å……å€¼é‡‘é¢ï¼ˆå…ƒï¼‰ï¼š</label>
  <select id="amountSelect">
    <option value="">-- è¯·é€‰æ‹© --</option>
  </select>
  <div id="rewardTable"></div>
</div>

<div class="section">
  <h2>ğŸ¯ æŠ½å¥–æœ€ä¼˜å……å€¼æ–¹æ¡ˆï¼ˆæ”¯æŒå¤©æ•°é™åˆ¶ï¼‰</h2>
  <label for="drawInput">è¯·è¾“å…¥ç›®æ ‡æŠ½æ•°ï¼š</label>
  <input id="drawInput" type="number" value="20000" min="1">
  <br>
  <label for="dayLimit">è¯·è¾“å…¥æ´»åŠ¨æŒç»­å¤©æ•°ï¼ˆä¾‹å¦‚4æˆ–7ï¼‰ï¼š</label>
  <input id="dayLimit" type="number" value="4" min="1">
  <br>
  <button onclick="calculateBestPlan()">è®¡ç®—æœ€ä¼˜æ–¹æ¡ˆ</button>
  <div id="drawResult"></div>
</div>

<div class="section footnote">
  <strong>é“å…·ä»·æ ¼è¯´æ˜ï¼š</strong><br>
  å¯»å®ä»¤<sup>1</sup> â‰ˆ 10,000é’»çŸ³ï¼›å¼ºåŒ–çŸ³<sup>2</sup> â‰ˆ 10,000å…ƒå®ï¼›å® ç‰©å¡<sup>3</sup> â‰ˆ 1,888,888é’»çŸ³ï¼›<br>
  é­”æ³•åœ£ç›¾æŠ€èƒ½ä¹¦<sup>4</sup> â‰ˆ 900,000,000å…ƒå®ï¼›ä¼é­”å…ƒçŸ³<sup>5</sup> â‰ˆ 50,000é’»çŸ³ï¼›<br>
  5ä¸‡å…ƒå®<sup>6</sup> = 50,000å…ƒå®ï¼›10000é’»çŸ³<sup>7</sup> = 10,000é’»çŸ³ã€‚
</div>

<script>
// æ•°æ®æº
const rewardData = [
  { type:"æ¯æ—¥å……å€¼", amt:10, rewards:["å¯»å®ä»¤100","å¤©å‘½å®é’»90","ç†”ç‚¼çŸ³10"] },
  { type:"æ¯æ—¥å……å€¼", amt:10, rewards:["å¯»å®ä»¤400","å¤©å‘½å®é’»360","ç†”ç‚¼çŸ³40"] },
  { type:"æ¯æ—¥å……å€¼", amt:10, rewards:["å¯»å®ä»¤500","å¤©å‘½å®é’»450","ç†”ç‚¼çŸ³50"] },
  { type:"æ¯æ—¥å……å€¼", amt:20, rewards:["å¯»å®ä»¤2000","å¤©å‘½å®é’»3600","ç†”ç‚¼çŸ³400"] },
  { type:"æ¯æ—¥å……å€¼", amt:50, rewards:["å¯»å®ä»¤2500","å¤©å‘½å®é’»4500","ç†”ç‚¼çŸ³500"] },
  { type:"æ¯æ—¥å……å€¼", amt:100, rewards:["å¯»å®ä»¤5000","å¤©å‘½å®é’»9000","ç†”ç‚¼çŸ³1000"] },
  { type:"è¿ç»­å……å€¼", amt:30, rewards:["å¼ºåŒ–çŸ³300","ç†”æ™¶çŸ³100","10000é’»çŸ³100"] },
  { type:"è¿ç»­å……å€¼", amt:50, rewards:["å¼ºåŒ–çŸ³500","ç†”æ™¶çŸ³100","10000é’»çŸ³900"] },
  { type:"é¦–å……å¤§ç¤¼åŒ…", amt:10, rewards:["45é˜¶æ˜Ÿç‹â˜…ç§¦ä¿‘é¾™èŸ â˜…å‰‘1","ä¸¤ä»ªå‡çº§ä¸¹100","5ä¸‡å…ƒå®5","å® ç‰©å¡1","å¸å›½è™ç¬¦1"] },
  { type:"é¦–å……å¤§ç¤¼åŒ…", amt:50, rewards:["1é˜¶å¤©å‘½â˜…ç¥ã®ç”²1","ä¼é­”å…ƒçŸ³300","ç»ç‰ˆç§°å·1","é¡¶çº§çˆ†ç‡å¡1","é­”æ³•åœ£ç›¾æŠ€èƒ½ä¹¦1"] },
  { type:"é¦–å……å¤§ç¤¼åŒ…", amt:100, rewards:["1é˜¶å¤©å‘½â˜…ç¥ã®å…µ1","å¹»åŒ–ä¸ç»¸99","å¹»åŒ–æ™¶çŸ³99","å¤©é™…æ˜Ÿé™¨10","å¹»åŒ–ç²¾ç‰99"] },
  { type:"ç´¯è®¡å……å€¼", amt:50, rewards:["æ˜Ÿè„‰å·è½´ï¼ˆå¤§ï¼‰80","å¤©å‘½å®é’»90","10000é’»çŸ³500"] },
  { type:"ç´¯è®¡å……å€¼", amt:100, rewards:["é­‚â˜†é¼ç‚‰â˜†9é˜¶","å¤©å‘½å®é’»180","10000é’»çŸ³1000"] },
  { type:"ç´¯è®¡å……å€¼", amt:200, rewards:["é­‚â˜†æ³•é•œâ˜†10é˜¶","å¤©å‘½å®é’»270","10000é’»çŸ³3000"] },
  { type:"ç´¯è®¡å……å€¼", amt:250, rewards:["1é˜¶å¤©å‘½â˜…ç¥ã®ç”²1","å¤©å‘½å®é’»360","10000é’»çŸ³4000"] },
  { type:"ç´¯è®¡å……å€¼", amt:350, rewards:["èµ¤è¡€â˜…æˆ˜å‰‘","å¤©å‘½å®é’»455","10000é’»çŸ³6000"] }
];

const diamondData = [
  { amt:10, dia:2000000 }, { amt:20, dia:4000000 }, { amt:30, dia:6000000 },
  { amt:50, dia:10000000 }, { amt:100, dia:30000000 }, { amt:200, dia:60000000 },
  { amt:300, dia:90000000 }, { amt:500, dia:200000000 }, { amt:1000, dia:500000000 },
  { amt:1500, dia:750000000 }, { amt:2000, dia:1200000000 }, { amt:3000, dia:2100000000 }
];

// åˆå§‹åŒ–é‡‘é¢é€‰æ‹©
(function(){
  const sel = document.getElementById("amountSelect");
  const amts = [...new Set(rewardData.map(r=>r.amt))].sort((a,b)=>a-b);
  amts.forEach(a => sel.add(new Option(a, a)));
  sel.addEventListener("change", showRewards);
})();

// å±•ç¤ºå¥–åŠ±å†…å®¹
function showRewards() {
  const v = +this.value;
  if (!v) return document.getElementById("rewardTable").innerHTML = "<p>è¯·é€‰æ‹©é‡‘é¢</p>";
  
  const list = rewardData.filter(r => r.amt <= v).sort((a, b) => a.amt - b.amt);
  
  let html = `<table><tr><th>ç±»å‹</th><th>é‡‘é¢</th><th>å¥–åŠ±å†…å®¹</th></tr>`;
  list.forEach(r => {
    html += `<tr><td>${r.type}</td><td>${r.amt} å…ƒ</td><td>${r.rewards.join('ï¼Œ')}</td></tr>`;
  });
  html += "</table>";

  document.getElementById("rewardTable").innerHTML = html;
}

// è®¡ç®—æŠ½å¥–æœ€ä¼˜æ–¹æ¡ˆï¼Œæ”¯æŒå¤©æ•°é™åˆ¶
function calculateBestPlan() {
  const target = +document.getElementById("drawInput").value;
  const days = +document.getElementById("dayLimit").value;

  if (!target || target < 1) return alert("è¯·è¾“å…¥æ­£ç¡®çš„ç›®æ ‡æŠ½æ•°ï¼");
  if (!days || days < 1) return alert("è¯·è¾“å…¥æ­£ç¡®çš„æ´»åŠ¨å¤©æ•°ï¼");

  // æ¯æ¡£æ¯æ—¥å¯»å®ä»¤å¥–åŠ±
  const dailyOptions = [
    { amt:10, draws:100+400+500 }, // 10å…ƒæ¡£
    { amt:20, draws:100+400+500+2000 }, // 20å…ƒæ¡£
    { amt:50, draws:100+400+500+2000+2500 }, // 50å…ƒæ¡£
    { amt:100, draws:100+400+500+2000+2500+5000 } // 100å…ƒæ¡£
  ];

  let selected = null;

  for (let option of dailyOptions) {
    if (option.draws * days >= target) {
      selected = option;
      break;
    }
  }

  if (!selected) {
    document.getElementById("drawResult").innerHTML = "<p>å½“å‰å¤©æ•°å†…æ— æ³•è¾¾åˆ°ç›®æ ‡æŠ½æ•°ï¼Œè¯·å»¶é•¿å¤©æ•°æˆ–è°ƒæ•´ç›®æ ‡ã€‚</p>";
    return;
  }

  const totalDraws = selected.draws * days;
  const totalCost = selected.amt * days;

  document.getElementById("drawResult").innerHTML = `
    <p>ç›®æ ‡æŠ½æ•°ï¼š<strong>${target}</strong> æŠ½</p>
    <p>æ´»åŠ¨å¤©æ•°ï¼š<strong>${days}</strong> å¤©</p>
    <p>æ¨èæ¯æ—¥å……å€¼ï¼š<strong>${selected.amt} å…ƒ</strong>ï¼ˆæ¯æ—¥å¯å¾— ${selected.draws} æŠ½ï¼‰</p>
    <p>æ€»å……å€¼ï¼š<strong>${totalCost} å…ƒ</strong></p>
    <p>æ€»å¯å¾—æŠ½æ•°ï¼š<strong>${totalDraws} æŠ½</strong></p>
  `;
}
</script>
  <!-- Footer -->
  <div class="footer-wrapper">
    <footer id="footer-container">åŠ è½½ä¸­...</footer>
  </div>
  <script src="/load-footer.js"></script>
<!-- footer -->
</body>
</html>
