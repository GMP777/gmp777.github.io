<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>⏰天界神炉</title>
  <!-- 载入 footer 样式 -->
<link rel="stylesheet" href="/footer.css" />
<!-- 载入 footer 样式 -->
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #4A90E2;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #aaa;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #4A90E2;
      color: white;
    }
  </style>
</head>
<body>

  <table>
    <thead>
      <tr>
        <th>区服</th>
        <th>开服时间</th>
        <th>第42天 (天界神炉开启)</th>
      </tr>
    </thead>
    <tbody id="tableBody">
      <!-- JS填充 -->
    </tbody>
  </table>

<script>
  // 这里写你的JSON数据，格式是区服名和开服时间（YYYY-MM-DD）
  const serverData = [
    { 区服: "103", 开服时间: "2025-05-30" },
    { 区服: "104", 开服时间: "2025-06-06" },
    { 区服: "105", 开服时间: "2025-06-12" },
    { 区服: "106", 开服时间: "2025-06-16" },
    { 区服: "107", 开服时间: "2025-06-20" },
    { 区服: "108", 开服时间: "2025-06-30" },
    { 区服: "109", 开服时间: "2025-07-13" },
    { 区服: "110", 开服时间: "2025-07-18" },
    { 区服: "111", 开服时间: "2025-07-22" },
    { 区服: "112", 开服时间: "2025-07-27" },
    { 区服: "113", 开服时间: "2025-08-03" },
    { 区服: "114", 开服时间: "2025-08-07" },
    { 区服: "115", 开服时间: "2025-08-11" },
    { 区服: "116", 开服时间: "2025-08-17" },
    { 区服: "117", 开服时间: "2025-08-22" },
    { 区服: "118", 开服时间: "2025-08-29" },
    { 区服: "119", 开服时间: "2025-09-02" },
    { 区服: "120", 开服时间: "2025-09-07" },
    { 区服: "121", 开服时间: "2025-09-14" },
    { 区服: "122", 开服时间: "2025-09-18" }
  ];

  function formatDate(date) {
    const y = date.getFullYear();
    const m = (date.getMonth() + 1).toString().padStart(2, '0');
    const d = date.getDate().toString().padStart(2, '0');
    return `${y}-${m}-${d}`;
  }

  function calcDayAfter(startDateStr, daysAfter) {
    const date = new Date(startDateStr);
    if (isNaN(date)) return "日期无效";
    date.setDate(date.getDate() + daysAfter);
    return formatDate(date);
  }

  function renderTable() {
    const tbody = document.getElementById("tableBody");
    tbody.innerHTML = "";

    serverData.forEach(item => {
      const day42 = calcDayAfter(item.开服时间, 41);

      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${item.区服}</td>
        <td>${item.开服时间}</td>
        <td>${day42}</td>
      `;
      tbody.appendChild(tr);
    });
  }

  // 页面加载时渲染
  window.onload = renderTable;
</script>
  <!-- Footer -->
  <div class="footer-wrapper">
    <footer id="footer-container">加载中...</footer>
  </div>
  <script src="/load-footer.js"></script>
<!-- footer -->
</body>
</html>
