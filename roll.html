<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- è½½å…¥ footer æ ·å¼ -->
<link rel="stylesheet" href="footer.css" />
  <title>æŠ½å¥–è®¡ç®—å™¨</title>
  <style>
    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      font-family: "å¾®è½¯é›…é»‘", sans-serif;
      margin: 0;
      padding: 0;
      background-color: #eef2f5;
    }

    .container {
      max-width: 600px;
      margin: 40px auto;
      background-color: #fff;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    }

    h2 {
      text-align: center;
      margin-bottom: 24px;
      color: #333;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: bold;
      color: #444;
    }

    input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
      margin-bottom: 16px;
    }

    button {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
      margin-bottom: 16px;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #45a049;
    }

    .result {
      font-size: 18px;
      font-weight: bold;
      color: #333;
      margin-top: 8px;
    }

    hr {
      margin: 24px 0;
      border: none;
      border-top: 1px solid #ccc;
    }

    @media (max-width: 600px) {
      .container {
        margin: 20px 12px;
        padding: 20px;
      }

      h2 {
        font-size: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>æŠ½å¥–è®¡ç®—å™¨</h2>

    <label for="drawTimes">æƒ³æŠ½å¥–å¤šå°‘æ¬¡ï¼Ÿ</label>
    <input type="number" id="drawTimes" placeholder="è¾“å…¥æŠ½å¥–æ¬¡æ•°ï¼Œä¾‹å¦‚ 10" />
    <button onclick="calculateCost()">è®¡ç®—éœ€è¦å¤šå°‘é’»çŸ³</button>
    <div class="result" id="costResult"></div>

    <hr />

    <label for="diamondAmount">ä½ æ‹¥æœ‰å¤šå°‘é’»çŸ³ï¼Ÿ</label>
    <input type="number" id="diamondAmount" placeholder="è¾“å…¥é’»çŸ³æ•°é‡ï¼Œä¾‹å¦‚ 50000" />
    <button onclick="calculateDraws()">å¯ä»¥æŠ½å‡ æ¬¡å¥–</button>
    <div class="result" id="drawResult"></div>

    <hr />

    <label for="currentDraws">ä½ å½“å‰æŠ½äº†å¤šå°‘æ¬¡ï¼Ÿ</label>
    <input type="number" id="currentDraws" placeholder="è¾“å…¥å½“å‰æŠ½æ•°ï¼Œä¾‹å¦‚ 3888" />
    <button onclick="checkMilestone()">æŸ¥çœ‹ä¸‹ä¸€ä¸ªå¥–åŠ±</button>
    <div class="result" id="milestoneResult"></div>
  </div>

  <script>
    const costPerDraw = 10000;
    const rewardMilestones = [1000, 1500, 2500, 3000, 4000, 4500, 5000, 5500, 6000, 6500, 7000, 7500, 8000, 8500, 9000, 9500, 10000, 20000];

    function formatNumber(num) {
      return num.toLocaleString("zh-CN");
    }

    function toChineseNumber(num) {
      const units = ['', 'å', 'ç™¾', 'åƒ', 'ä¸‡', 'åä¸‡', 'ç™¾ä¸‡', 'åƒä¸‡', 'äº¿'];
      const digits = ['é›¶', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­', 'ä¸ƒ', 'å…«', 'ä¹'];
      if (num === 0) return 'é›¶';

      let str = '';
      const numStr = num.toString();
      const len = numStr.length;
      let zeroFlag = false;

      for (let i = 0; i < len; i++) {
        const digit = parseInt(numStr[i]);
        const unitIndex = len - i - 1;

        if (digit === 0) {
          zeroFlag = true;
        } else {
          if (zeroFlag) {
            str += 'é›¶';
            zeroFlag = false;
          }
          str += digits[digit] + units[unitIndex];
        }
      }

      return str.replace(/^ä¸€å/, 'å');
    }

    function calculateCost() {
      const times = parseInt(document.getElementById("drawTimes").value);
      if (isNaN(times) || times < 0) {
        document.getElementById("costResult").innerText = "è¯·è¾“å…¥æœ‰æ•ˆçš„æŠ½å¥–æ¬¡æ•°ã€‚";
        return;
      }
      const cost = times * costPerDraw;
      document.getElementById("costResult").innerText =
        `æŠ½ ${formatNumber(times)} æ¬¡ï¼ˆ${toChineseNumber(times)}ï¼‰éœ€è¦ ${formatNumber(cost)} é’»çŸ³ï¼ˆ${toChineseNumber(cost)}ï¼‰ã€‚`;
    }

    function calculateDraws() {
      const diamonds = parseInt(document.getElementById("diamondAmount").value);
      if (isNaN(diamonds) || diamonds < 0) {
        document.getElementById("drawResult").innerText = "è¯·è¾“å…¥æœ‰æ•ˆçš„é’»çŸ³æ•°é‡ã€‚";
        return;
      }
      const times = Math.floor(diamonds / costPerDraw);
      const used = times * costPerDraw;
      const remaining = diamonds - used;
      document.getElementById("drawResult").innerText =
        `ä½ å¯ä»¥æŠ½ ${formatNumber(times)} æ¬¡ï¼ˆ${toChineseNumber(times)}ï¼‰ï¼Œå…±æ¶ˆè€— ${formatNumber(used)} é’»çŸ³ï¼ˆ${toChineseNumber(used)}ï¼‰ï¼Œå‰©ä½™ ${formatNumber(remaining)} é’»çŸ³ï¼ˆ${toChineseNumber(remaining)}ï¼‰ã€‚`;
    }

    function checkMilestone() {
      const current = parseInt(document.getElementById("currentDraws").value);
      const resultDiv = document.getElementById("milestoneResult");

      if (isNaN(current) || current < 0) {
        resultDiv.innerText = "è¯·è¾“å…¥æœ‰æ•ˆçš„æŠ½å¥–æ¬¡æ•°ã€‚";
        return;
      }

      const next = rewardMilestones.find(m => m > current);

      if (next) {
        const diff = next - current;
        resultDiv.innerText =
          `ä½ å½“å‰å·²æŠ½ ${formatNumber(current)} æ¬¡ï¼ˆ${toChineseNumber(current)}ï¼‰ï¼Œè¿˜å·® ${formatNumber(diff)} æ¬¡ï¼ˆ${toChineseNumber(diff)}ï¼‰å¯è¾¾æˆä¸‹ä¸€ä¸ªå¥–åŠ±ï¼š${formatNumber(next)} æ¬¡ï¼ˆ${toChineseNumber(next)}ï¼‰ã€‚`;
      } else {
        resultDiv.innerText = `ä½ å½“å‰å·²æŠ½ ${formatNumber(current)} æ¬¡ï¼ˆ${toChineseNumber(current)}ï¼‰ï¼Œå·²è¾¾æˆæ‰€æœ‰å¥–åŠ±è¦æ±‚ï¼ğŸ‰`;
      }
    }
  </script>
<!-- footer -->
<footer id="footer-container">åŠ è½½ä¸­...</footer>

  <script>
    // éšè—å½“å‰é¡µé¢å¯¹åº”çš„é“¾æ¥æ•´ä¸ªå…ƒç´ ï¼ˆä¸ç•™ç©ºç™½ï¼‰
    function hideCurrentPageLink() {
      const currentPath = window.location.pathname.replace(/\/+$/, '');
      const links = document.querySelectorAll('.footer-content a');

      links.forEach(link => {
        const href = link.getAttribute('href');
        if (!href) return;

        const linkPath = new URL(href, window.location.origin).pathname.replace(/\/+$/, '');
        if (linkPath === currentPath) {
          link.style.display = 'none';
        }
      });
    }

    fetch('footer.html')
      .then(res => res.text())
      .then(html => {
        const container = document.getElementById('footer-container');
        container.innerHTML = html;

        hideCurrentPageLink();
      })
      .catch(() => {
        document.getElementById('footer-container').textContent = 'åŠ è½½ footer å¤±è´¥';
      });
  </script>
<!-- footer -->
</body>
</html>
