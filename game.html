<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ğŸ® æ¸¸æˆåŒºæœå¯¼èˆª</title>
  <!-- è½½å…¥ footer æ ·å¼ -->
<link rel="stylesheet" href="/footer.css" />
<!-- è½½å…¥ footer æ ·å¼ -->
<style>
:root {
  --bg: #0b1428;
  --card: #111a33;
  --accent: #06b6d4;
  --hover: #0891b2;
  --text: #e5eef8;
  --muted: #9aa4b2;
}
body {
  background: var(--bg);
  color: var(--text);
  font-family: "Microsoft YaHei", Arial, sans-serif;
  margin: 0;
  padding: 12px;
}
.container {
  max-width: 1000px;
  margin: 0 auto;
}
h1 {
  text-align: center;
  font-size: 20px;
  margin-bottom: 8px;
}
#time {
  text-align: center;
  color: var(--muted);
  font-size: 14px;
  margin-bottom: 10px;
}
.tabs {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 8px;
  margin-bottom: 12px;
}
.tab {
  padding: 6px 12px;
  border-radius: 8px;
  background: #1a233c;
  color: var(--muted);
  border: 1px solid #1e293b;
  cursor: pointer;
  font-weight: 700;
}
.tab.active {
  background: linear-gradient(90deg, var(--accent), #7dd3fc);
  color: #022;
  border: none;
}
.controls {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 12px;
}
.control-btn {
  border: 1px solid #1e293b;
  border-radius: 8px;
  padding: 8px 14px;
  font-weight: 700;
  background: #1a233c;
  color: var(--muted);
  cursor: pointer;
}
.control-btn.active {
  background: linear-gradient(90deg, var(--accent), #7dd3fc);
  color: #022;
  border: none;
}
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;
}
.card {
  background: var(--card);
  border-radius: 12px;
  padding: 10px;
  text-align: center;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.4);
}
.title {
  font-weight: bold;
  margin-bottom: 6px;
}
.btn {
  display: inline-block;
  background: #1f2a4a;
  color: var(--text);
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid #2b3a5c;
  cursor: pointer;
  font-weight: 700;
  font-size: 14px;
  text-decoration: none;
  width: 100%;
  box-sizing: border-box;
}
.btn:hover {
  background: var(--hover);
  color: #022;
}
.badges {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 4px;
  margin-top: 6px;
}
.badge {
  background: var(--accent);
  color: #022;
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 12px;
  font-weight: bold;
}
.badge-event {
  background: #f59e0b;
  color: #111;
}
#toast {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--accent);
  color: #022;
  padding: 10px 18px;
  border-radius: 999px;
  font-weight: 700;
  box-shadow: 0 4px 12px rgba(6, 22, 34, 0.5);
  display: none;
  z-index: 999;
}
footer {
  text-align: center;
  color: var(--muted);
  font-size: 13px;
  margin-top: 15px;
}
</style>
</head>
<body>
<div class="container">
  <div id="time">åŒ—äº¬æ—¶é—´åŠ è½½ä¸­â€¦</div>
  <div class="controls">
    <button id="btnCopy" class="control-btn active">ğŸ“‹ å¤åˆ¶æ¨¡å¼</button>
    <button id="btnOpen" class="control-btn">ğŸ”— æ‰“å¼€æ¨¡å¼</button>
  </div>
  <div class="tabs" id="tabs"></div>
  <div id="content"></div>
  <div id="toast"></div>
  <footer>å·²å°±ç»ª</footer>
</div>
<script>
let clickMode = 'copy';
let currentSW = '9awan';
let currentYJ = 'yx4f';
const MS_DAY = 86400000;

const games = [
  {
    id: 'swcq', name: 'åœ£ç‹ä¼ å¥‡',
    homepage9a: 'http://www.9awan.com/home/server/283',
    homepage3u: 'http://88.3uyy.com/home/server/283',
    homepageaa: 'http://aa4.cn/home/server/283',
    servers: Array.from({length: 2116 - 2091 + 1}, (_, i) => ({show: 2091 + i, real: 98471 + i}))
  },
  {id: '111', name: 'æ»¡Våˆ‡å‰²ç¥åŸŸ', homepage: 'http://gm.yx4f.com:81/games/111.html',
    servers: [235,236,237,248,249,250,251,252,253,254,259,260,261,262,263,264,265,275,276,277]},
  {id: '115', name: 'æ»¡Væ‚ ä¹…ä¼ å¥‡',
    homepage: 'http://gm.yx4f.com:81/games/115.html',
    homepage2: 'http://gm.962yx.com/games/115.html',
    servers: [105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123]},
  {id: '137', name: 'GMèµ¤ç„°æ— åŒ', homepage: 'http://gm.yx4f.com:81/games/137.html',
    servers: [1,2,3,4,5,6,7,8,9,10,11,12]},
  {id: 'ts', name: 'å± ç¥', homepage: 'http://www.8syx.com/game/7/', servers: [25,26,30,31,35]}
];

const merges = [
  {from:2091,to:2097,date:'2025-10-28'},
  {from:2098,to:2104,date:'2025-10-31'},
  {from:2105,to:2111,date:'2025-11-02'}
];

const toast = (msg)=>{
  const t = document.getElementById('toast');
  t.textContent = msg; t.style.display='block'; t.style.opacity='1';
  setTimeout(()=>{t.style.transition='opacity .3s'; t.style.opacity='0';
  setTimeout(()=>t.style.display='none',300);},1400);
};

function daysSince(dateStr){
  const s = new Date(dateStr+'T00:00:00+08:00');
  const t = new Date();
  const now = new Date(t.getTime()+(8*60 - t.getTimezoneOffset())*60000);
  const d = new Date(now.toLocaleDateString('en-CA')+'T00:00:00+08:00');
  return Math.floor((d-s)/MS_DAY)+1;
}

function renderTabs(){
  const tabs=document.getElementById('tabs');
  tabs.innerHTML='';
  games.forEach(g=>{
    const b=document.createElement('button');
    b.className='tab'+(g.id==='swcq'?' active':'');
    b.textContent=g.name;
    b.onclick=()=>{document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));b.classList.add('active');renderContent(g.id);};
    tabs.appendChild(b);
  });
}

function renderContent(id){
  const box=document.getElementById('content');
  box.innerHTML='';
  const g=games.find(x=>x.id===id);
  if(!g)return;
  const grid=document.createElement('div');grid.className='grid';

  if(id==='swcq'){
    const switchBtn=document.createElement('a');
    switchBtn.className='btn';
    switchBtn.textContent='ğŸŒ '+(currentSW==='9awan'?'9aç©':'3UYY');
    switchBtn.onclick=(e)=>{e.preventDefault();currentSW=currentSW==='9awan'?'3uyy':'9awan';toast('å·²åˆ‡æ¢è‡³ '+currentSW);renderContent('swcq');};
    const siteCard=document.createElement('div');siteCard.className='card';siteCard.appendChild(switchBtn);
    grid.appendChild(siteCard);

    const homeBtn=document.createElement('a');
    homeBtn.className='btn'; homeBtn.textContent='ğŸ“… å¼€æœè¡¨';
    homeBtn.href=currentSW==='9awan'?g.homepage9a:g.homepage3u; homeBtn.target='_blank';
    const homeCard=document.createElement('div');homeCard.className='card';homeCard.appendChild(homeBtn);
    grid.appendChild(homeCard);

    const weekday=(new Date().getUTCDay()+1)%7; // fix
    g.servers.forEach(s=>{
      const card=document.createElement('div');card.className='card';
      const title=document.createElement('div');title.className='title';title.textContent=`${s.show}åŒº`;card.appendChild(title);
      const url=currentSW==='9awan'
        ?`http://www.9awan.com/game.php?action=play&game_id=283&server_id=${s.real}`
        :`http://88.3uyy.com/game.php?action=play&game_id=283&server_id=${s.real}`;
      const btn=document.createElement('a');btn.className='btn';btn.textContent='ç‚¹å‡»åŒºæœ';
      btn.onclick=(e)=>{e.preventDefault();if(clickMode==='open')window.open(url,'_blank');else{navigator.clipboard.writeText(url);toast('å·²å¤åˆ¶é“¾æ¥');}};
      card.appendChild(btn);
      const m=merges.find(m=>s.show>=m.from&&s.show<=m.to);
      if(m){
        const d=daysSince(m.date);
        const badges=document.createElement('div');badges.className='badges';
        const b1=document.createElement('div');b1.className='badge';b1.textContent=`åˆæœç¬¬${d}å¤©`;badges.appendChild(b1);
        if(d===3){const b2=document.createElement('div');b2.className='badge badge-event';b2.textContent='ğŸ‘‘åŸä¸»æˆ˜';badges.appendChild(b2);}
        if([3,6].includes(new Date().getDay())){const b3=document.createElement('div');b3.className='badge badge-event';b3.textContent='ğŸ°å…¬ä¼šæˆ˜æ—¥';badges.appendChild(b3);}
        card.appendChild(badges);
      }
      grid.appendChild(card);
    });
  }else{
    if(id==='115'){
      const sbtn=document.createElement('a');sbtn.className='btn';
      sbtn.textContent='ğŸŒ '+(currentYJ==='yx4f'?'yx4f':'962yx');
      sbtn.onclick=(e)=>{e.preventDefault();currentYJ=currentYJ==='yx4f'?'962yx':'yx4f';toast('å·²åˆ‡æ¢è‡³ '+currentYJ);renderContent('115');};
      const scard=document.createElement('div');scard.className='card';scard.appendChild(sbtn);grid.appendChild(scard);
    }
    const homeBtn=document.createElement('a');homeBtn.className='btn';homeBtn.textContent='ğŸ  æ¸¸æˆä¸»é¡µ';
    if(id==='115')homeBtn.href=currentYJ==='yx4f'?g.homepage:g.homepage2;else homeBtn.href=g.homepage;
    homeBtn.target='_blank';const hcard=document.createElement('div');hcard.className='card';hcard.appendChild(homeBtn);grid.appendChild(hcard);
    g.servers.forEach(s=>{
      const card=document.createElement('div');card.className='card';
      const title=document.createElement('div');title.className='title';title.textContent=`${s}åŒº`;card.appendChild(title);
      let url='#';
      if(id==='111')url=`http://gm.yx4f.com:81/login/111/${s}.html`;
      else if(id==='115')url=currentYJ==='yx4f'?`http://gm.yx4f.com:81/login/115/${s}.html`:`http://gm.962yx.com/login/115/${s}.html`;
      else if(id==='137')url=`http://gm.yx4f.com:81/login/137/${s}.html`;
      else if(id==='ts')url=`http://www.8syx.com/Game/gameto.php?gid=7&sid=${s}`;
      const btn=document.createElement('a');btn.className='btn';btn.textContent='ç‚¹å‡»åŒºæœ';
      btn.onclick=(e)=>{e.preventDefault();if(clickMode==='open')window.open(url,'_blank');else{navigator.clipboard.writeText(url);toast('å·²å¤åˆ¶é“¾æ¥');}};
      card.appendChild(btn);grid.appendChild(card);
    });
  }
  box.appendChild(grid);
}

function init(){
  const tick=()=>{const now=new Date();const bj=new Date(now.getTime()+(8*60-now.getTimezoneOffset())*60000);
    document.getElementById('time').textContent='åŒ—äº¬æ—¶é—´ï¼š'+bj.toLocaleString('zh-CN',{hour12:false});};
  tick();setInterval(tick,1000);
  renderTabs();renderContent('swcq');
  document.getElementById('btnCopy').onclick=()=>{clickMode='copy';btnCopy.classList.add('active');btnOpen.classList.remove('active');toast('å¤åˆ¶æ¨¡å¼');};
  document.getElementById('btnOpen').onclick=()=>{clickMode='open';btnOpen.classList.add('active');btnCopy.classList.remove('active');toast('æ‰“å¼€æ¨¡å¼');};
}
init();
</script>
    <!-- Footer -->
  <div class="footer-wrapper">
    <footer id="footer-container">åŠ è½½ä¸­...</footer>
  </div>
  <script src="/load-footer.js"></script>
<!-- footer -->
</body>
</html>
